/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/*! exports provided: CONSTANTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONSTANTS\", function() { return CONSTANTS; });\nconst CONSTANTS = {\n    moduleName: \"TokenHotbar\",\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0YW50cy50cz84NWVlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBDT05TVEFOVFMgPSB7XG4gICAgbW9kdWxlTmFtZTogXCJUb2tlbkhvdGJhclwiLFxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/constants.ts\n");

/***/ }),

/***/ "./src/flags/factory.ts":
/*!******************************!*\
  !*** ./src/flags/factory.ts ***!
  \******************************/
/*! exports provided: HotbarFlagsFactory, FlagStrategyFactory, FlagKeyFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HotbarFlagsFactory\", function() { return HotbarFlagsFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlagStrategyFactory\", function() { return FlagStrategyFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlagKeyFactory\", function() { return FlagKeyFactory; });\n/* harmony import */ var _hotbarFlags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hotbarFlags */ \"./src/flags/hotbarFlags.ts\");\n/* harmony import */ var _flagStrategies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./flagStrategies */ \"./src/flags/flagStrategies.ts\");\n/* harmony import */ var _flagKeyStrategies__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flagKeyStrategies */ \"./src/flags/flagKeyStrategies.ts\");\n\n\n\nclass HotbarFlagsFactory {\n    constructor(settings) {\n        this.settings = settings;\n    }\n    create() {\n        const flagStrategy = this.createFlagStrategy();\n        return new _hotbarFlags__WEBPACK_IMPORTED_MODULE_0__[\"FoundryHotbarFlags\"](flagStrategy);\n    }\n    createFlagStrategy() {\n        return new FlagStrategyFactory(this.settings).create();\n    }\n}\nclass FlagStrategyFactory {\n    constructor(settings) {\n        this.settings = settings;\n    }\n    create() {\n        if (this.settings.shareHotbar) {\n            if (this.settings.alwaysLinkToActor) {\n                return new _flagStrategies__WEBPACK_IMPORTED_MODULE_1__[\"SharedAlwaysLinkedFlagsStrategy\"]();\n            }\n            if (this.settings.linkToLinkedActor) {\n                return new _flagStrategies__WEBPACK_IMPORTED_MODULE_1__[\"SharedLinkedFlagsStrategy\"]();\n            }\n        }\n        return new _flagStrategies__WEBPACK_IMPORTED_MODULE_1__[\"DefaultFlagsStrategy\"]();\n    }\n}\nclass FlagKeyFactory {\n    constructor(settings) {\n        this.settings = settings;\n    }\n    create() {\n        if (this.settings.shareHotbar)\n            return new _flagKeyStrategies__WEBPACK_IMPORTED_MODULE_2__[\"SharedFlagKeyStrategy\"]();\n        if (this.settings.alwaysLinkToActor)\n            return new _flagKeyStrategies__WEBPACK_IMPORTED_MODULE_2__[\"AlwaysLinkedFlagKeyStrategy\"]();\n        if (this.settings.linkToLinkedActor)\n            return new _flagKeyStrategies__WEBPACK_IMPORTED_MODULE_2__[\"LinkedFlagKeyStrategy\"]();\n        return new _flagKeyStrategies__WEBPACK_IMPORTED_MODULE_2__[\"DefaultFlagKeyStrategy\"]();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmxhZ3MvZmFjdG9yeS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9mbGFncy9mYWN0b3J5LnRzPzNmYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBGb3VuZHJ5SG90YmFyRmxhZ3MgfSBmcm9tICcuL2hvdGJhckZsYWdzJztcbmltcG9ydCB7IFNoYXJlZEFsd2F5c0xpbmtlZEZsYWdzU3RyYXRlZ3ksIFNoYXJlZExpbmtlZEZsYWdzU3RyYXRlZ3ksIERlZmF1bHRGbGFnc1N0cmF0ZWd5IH0gZnJvbSAnLi9mbGFnU3RyYXRlZ2llcyc7XG5pbXBvcnQgeyBTaGFyZWRGbGFnS2V5U3RyYXRlZ3ksIExpbmtlZEZsYWdLZXlTdHJhdGVneSwgQWx3YXlzTGlua2VkRmxhZ0tleVN0cmF0ZWd5LCBEZWZhdWx0RmxhZ0tleVN0cmF0ZWd5IH0gZnJvbSAnLi9mbGFnS2V5U3RyYXRlZ2llcyc7XG5cbmV4cG9ydCBjbGFzcyBIb3RiYXJGbGFnc0ZhY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzKSB7IH1cblxuICAgIHB1YmxpYyBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IGZsYWdTdHJhdGVneSA9IHRoaXMuY3JlYXRlRmxhZ1N0cmF0ZWd5KCk7XG4gICAgICAgIHJldHVybiBuZXcgRm91bmRyeUhvdGJhckZsYWdzKGZsYWdTdHJhdGVneSk7ICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUZsYWdTdHJhdGVneSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGbGFnU3RyYXRlZ3lGYWN0b3J5KHRoaXMuc2V0dGluZ3MpLmNyZWF0ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsYWdTdHJhdGVneUZhY3Rvcnkge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3MpIHsgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hhcmVIb3RiYXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmFsd2F5c0xpbmtUb0FjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTaGFyZWRBbHdheXNMaW5rZWRGbGFnc1N0cmF0ZWd5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5saW5rVG9MaW5rZWRBY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2hhcmVkTGlua2VkRmxhZ3NTdHJhdGVneSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEZsYWdzU3RyYXRlZ3koKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGbGFnS2V5RmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzZXR0aW5nczogU2V0dGluZ3MpIHsgfVxuXG4gICAgcHVibGljIGNyZWF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Muc2hhcmVIb3RiYXIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNoYXJlZEZsYWdLZXlTdHJhdGVneSgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYWx3YXlzTGlua1RvQWN0b3IpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsd2F5c0xpbmtlZEZsYWdLZXlTdHJhdGVneSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxpbmtUb0xpbmtlZEFjdG9yKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5rZWRGbGFnS2V5U3RyYXRlZ3koKTtcblxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRGbGFnS2V5U3RyYXRlZ3koKTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/flags/factory.ts\n");

/***/ }),

/***/ "./src/flags/flagKeyStrategies.ts":
/*!****************************************!*\
  !*** ./src/flags/flagKeyStrategies.ts ***!
  \****************************************/
/*! exports provided: FlagKeyStrategy, DefaultFlagKeyStrategy, SharedFlagKeyStrategy, LinkedFlagKeyStrategy, AlwaysLinkedFlagKeyStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlagKeyStrategy\", function() { return FlagKeyStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultFlagKeyStrategy\", function() { return DefaultFlagKeyStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SharedFlagKeyStrategy\", function() { return SharedFlagKeyStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinkedFlagKeyStrategy\", function() { return LinkedFlagKeyStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlwaysLinkedFlagKeyStrategy\", function() { return AlwaysLinkedFlagKeyStrategy; });\nclass FlagKeyStrategy {\n    getEntity(entityId) {\n        return game.actors.get(entityId) || canvas.tokens.get(entityId);\n    }\n}\nclass DefaultFlagKeyStrategy extends FlagKeyStrategy {\n    get(entityId) {\n        return entityId;\n    }\n}\nclass SharedFlagKeyStrategy extends FlagKeyStrategy {\n    get(_) {\n        return \"shared-macros\";\n    }\n}\nclass LinkedFlagKeyStrategy extends FlagKeyStrategy {\n    get(entityId) {\n        const entity = this.getEntity(entityId);\n        if (entity instanceof Token) {\n            return (entity.data.actorLink ? entity.actor : entity).id;\n        }\n        return entity.id;\n    }\n}\nclass AlwaysLinkedFlagKeyStrategy extends FlagKeyStrategy {\n    get(entityId) {\n        const entity = this.getEntity(entityId);\n        if (entity instanceof Token) {\n            return entity.actor.id;\n        }\n        return entity.id;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmxhZ3MvZmxhZ0tleVN0cmF0ZWdpZXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmxhZ3MvZmxhZ0tleVN0cmF0ZWdpZXMudHM/OWQ0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYWJzdHJhY3QgY2xhc3MgRmxhZ0tleVN0cmF0ZWd5IHtcbiAgICBhYnN0cmFjdCBnZXQoZW50aXR5SWQ6IHN0cmluZyk6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBnZXRFbnRpdHkoZW50aXR5SWQ6IHN0cmluZykgOiBBY3RvciB8IFRva2VuIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLmdldChlbnRpdHlJZCkgfHwgY2FudmFzLnRva2Vucy5nZXQoZW50aXR5SWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRGbGFnS2V5U3RyYXRlZ3kgZXh0ZW5kcyBGbGFnS2V5U3RyYXRlZ3kge1xuICAgIGdldChlbnRpdHlJZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBlbnRpdHlJZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaGFyZWRGbGFnS2V5U3RyYXRlZ3kgZXh0ZW5kcyBGbGFnS2V5U3RyYXRlZ3kge1xuICAgIGdldChfOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIFwic2hhcmVkLW1hY3Jvc1wiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIExpbmtlZEZsYWdLZXlTdHJhdGVneSBleHRlbmRzIEZsYWdLZXlTdHJhdGVneSB7XG4gICAgZ2V0KGVudGl0eUlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5nZXRFbnRpdHkoZW50aXR5SWQpO1xuICAgICAgICBpZiAoZW50aXR5IGluc3RhbmNlb2YgVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAoZW50aXR5LmRhdGEuYWN0b3JMaW5rID8gZW50aXR5LmFjdG9yIDogZW50aXR5KS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbnRpdHkuaWQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWx3YXlzTGlua2VkRmxhZ0tleVN0cmF0ZWd5IGV4dGVuZHMgRmxhZ0tleVN0cmF0ZWd5IHtcbiAgICBnZXQoZW50aXR5SWQ6IHN0cmluZykge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmdldEVudGl0eShlbnRpdHlJZCk7XG4gICAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eS5hY3Rvci5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbnRpdHkuaWQ7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/flags/flagKeyStrategies.ts\n");

/***/ }),

/***/ "./src/flags/flagStrategies.ts":
/*!*************************************!*\
  !*** ./src/flags/flagStrategies.ts ***!
  \*************************************/
/*! exports provided: FlagsStrategy, DefaultFlagsStrategy, SharedLinkedFlagsStrategy, SharedAlwaysLinkedFlagsStrategy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlagsStrategy\", function() { return FlagsStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultFlagsStrategy\", function() { return DefaultFlagsStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SharedLinkedFlagsStrategy\", function() { return SharedLinkedFlagsStrategy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SharedAlwaysLinkedFlagsStrategy\", function() { return SharedAlwaysLinkedFlagsStrategy; });\nclass FlagsStrategy {\n    getEntity(entityId) {\n        return game.actors.get(entityId) || canvas.tokens.get(entityId);\n    }\n}\nclass DefaultFlagsStrategy extends FlagsStrategy {\n    get(_) {\n        return game.user;\n    }\n}\nclass SharedLinkedFlagsStrategy extends FlagsStrategy {\n    get(entityId) {\n        const entity = this.getEntity(entityId);\n        if (entity instanceof Token) {\n            return entity.data.actorLink ? entity.actor : entity;\n        }\n        return entity;\n    }\n}\nclass SharedAlwaysLinkedFlagsStrategy extends FlagsStrategy {\n    get(entityId) {\n        const entity = this.getEntity(entityId);\n        if (entity instanceof Token) {\n            return entity.actor;\n        }\n        return entity;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmxhZ3MvZmxhZ1N0cmF0ZWdpZXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmxhZ3MvZmxhZ1N0cmF0ZWdpZXMudHM/Yjg1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGbGFnZ2FibGUgfSBmcm9tIFwiLi4vZm91bmRyeVwiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRmxhZ3NTdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGVudGl0eUlkIFRoZSBpZCBvZiB0aGUgYWN0b3Igb3IgdG9rZW5cbiAgICAgKi9cbiAgICBhYnN0cmFjdCBnZXQoZW50aXR5SWQ6IHN0cmluZyk6IEZsYWdnYWJsZTtcblxuICAgIHByb3RlY3RlZCBnZXRFbnRpdHkoZW50aXR5SWQ6IHN0cmluZykgOiBBY3RvciB8IFRva2VuIHtcbiAgICAgICAgcmV0dXJuIGdhbWUuYWN0b3JzLmdldChlbnRpdHlJZCkgfHwgY2FudmFzLnRva2Vucy5nZXQoZW50aXR5SWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlZmF1bHRGbGFnc1N0cmF0ZWd5IGV4dGVuZHMgRmxhZ3NTdHJhdGVneSB7XG4gICAgZ2V0KF86IHN0cmluZyk6IEZsYWdnYWJsZSB7XG4gICAgICAgIHJldHVybiBnYW1lLnVzZXI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hhcmVkTGlua2VkRmxhZ3NTdHJhdGVneSBleHRlbmRzIEZsYWdzU3RyYXRlZ3kge1xuICAgIGdldChlbnRpdHlJZDogc3RyaW5nKTogRmxhZ2dhYmxlIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5nZXRFbnRpdHkoZW50aXR5SWQpO1xuICAgICAgICBpZiAoZW50aXR5IGluc3RhbmNlb2YgVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHkuZGF0YS5hY3RvckxpbmsgPyBlbnRpdHkuYWN0b3IgOiBlbnRpdHk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNoYXJlZEFsd2F5c0xpbmtlZEZsYWdzU3RyYXRlZ3kgZXh0ZW5kcyBGbGFnc1N0cmF0ZWd5IHtcbiAgICBnZXQoZW50aXR5SWQ6IHN0cmluZyk6IEZsYWdnYWJsZSB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuZ2V0RW50aXR5KGVudGl0eUlkKTtcbiAgICAgICAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIFRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5LmFjdG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/flags/flagStrategies.ts\n");

/***/ }),

/***/ "./src/flags/hotbarFlags.ts":
/*!**********************************!*\
  !*** ./src/flags/hotbarFlags.ts ***!
  \**********************************/
/*! exports provided: FoundryHotbarFlags */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FoundryHotbarFlags\", function() { return FoundryHotbarFlags; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n\nclass FoundryHotbarFlags {\n    constructor(getFlagStrategy) {\n        this.getFlagStrategy = getFlagStrategy;\n    }\n    get(tokenId) {\n        const flags = this.getFlagStrategy.get(tokenId);\n        const result = flags.getFlag('world', _constants__WEBPACK_IMPORTED_MODULE_0__[\"CONSTANTS\"].moduleName) || {};\n        return result;\n    }\n    set(tokenId, data) {\n        return this.getFlagStrategy.get(tokenId)\n            .unsetFlag(\"world\", _constants__WEBPACK_IMPORTED_MODULE_0__[\"CONSTANTS\"].moduleName)\n            .then(entity => entity.setFlag('world', _constants__WEBPACK_IMPORTED_MODULE_0__[\"CONSTANTS\"].moduleName, data));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmxhZ3MvaG90YmFyRmxhZ3MudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmxhZ3MvaG90YmFyRmxhZ3MudHM/YWQ2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDT05TVEFOVFMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgRmxhZ3NTdHJhdGVneSB9IGZyb20gJy4vZmxhZ1N0cmF0ZWdpZXMnO1xuaW1wb3J0IHsgRmxhZ2dhYmxlIH0gZnJvbSAnLi4vZm91bmRyeSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSG90YmFySXRlbSB7XG4gICAgaWQ6IHN0cmluZyxcbiAgICBzbG90OiBOdW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgSG90YmFyRGF0YSA9IHsgW3Rva2VuSWQ6IHN0cmluZ106IEhvdGJhckl0ZW1bXSB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhvdGJhckZsYWdzIHsgXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBob3RiYXIgZm9yIGEgcGFydGljdWxhciBlbnRpdHkuXG4gICAgICogUE9TVDogUmV0dXJuIHZhbHVlIGlzIGFsd2F5cyBhbiBvYmplY3QuXG4gICAgICogQHBhcmFtIGVudGl0eSB0aGUgdG9rZW4gb3IgYWN0b3IgdG8gZ2V0IHRoZSBob3RiYXIgZm9yLlxuICAgICAqL1xuICAgIGdldCh0b2tlbklkOiBzdHJpbmcpOiBIb3RiYXJEYXRhO1xuXG4gICAgc2V0KHRva2VuSWQ6IHN0cmluZywgZGF0YTogSG90YmFyRGF0YSk6IFByb21pc2U8RmxhZ2dhYmxlPjtcbn1cblxuZXhwb3J0IGNsYXNzIEZvdW5kcnlIb3RiYXJGbGFncyBpbXBsZW1lbnRzIEhvdGJhckZsYWdzIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGdldEZsYWdTdHJhdGVneTogRmxhZ3NTdHJhdGVneSkgeyB9XG5cbiAgICBnZXQodG9rZW5JZDogc3RyaW5nKTogSG90YmFyRGF0YSB7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gdGhpcy5nZXRGbGFnU3RyYXRlZ3kuZ2V0KHRva2VuSWQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBmbGFncy5nZXRGbGFnKCd3b3JsZCcsIENPTlNUQU5UUy5tb2R1bGVOYW1lKSB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzZXQodG9rZW5JZDogc3RyaW5nLCBkYXRhOiBIb3RiYXJEYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYWdTdHJhdGVneS5nZXQodG9rZW5JZClcbiAgICAgICAgICAgIC51bnNldEZsYWcoXCJ3b3JsZFwiLCBDT05TVEFOVFMubW9kdWxlTmFtZSlcbiAgICAgICAgICAgIC50aGVuKGVudGl0eSA9PiBlbnRpdHkuc2V0RmxhZygnd29ybGQnLCBDT05TVEFOVFMubW9kdWxlTmFtZSwgZGF0YSkpO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFzQkE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/flags/hotbarFlags.ts\n");

/***/ }),

/***/ "./src/flags/pageFlag.ts":
/*!*******************************!*\
  !*** ./src/flags/pageFlag.ts ***!
  \*******************************/
/*! exports provided: PageFlag */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageFlag\", function() { return PageFlag; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./src/constants.ts\");\n\nclass PageFlag {\n    get() {\n        let page = localStorage.getItem(`${_constants__WEBPACK_IMPORTED_MODULE_0__[\"CONSTANTS\"].moduleName}.activePage`);\n        if (page)\n            return +page;\n        return 1;\n    }\n    set(page) {\n        return localStorage.setItem(`${_constants__WEBPACK_IMPORTED_MODULE_0__[\"CONSTANTS\"].moduleName}.activePage`, page + \"\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZmxhZ3MvcGFnZUZsYWcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmxhZ3MvcGFnZUZsYWcudHM/ZTE3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDT05TVEFOVFMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxhZyB7XG4gICAgcHVibGljIGdldCgpOiBudW1iZXIge1xuICAgICAgICBsZXQgcGFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke0NPTlNUQU5UUy5tb2R1bGVOYW1lfS5hY3RpdmVQYWdlYCk7XG4gICAgICAgIGlmIChwYWdlKSByZXR1cm4gK3BhZ2U7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQocGFnZTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtDT05TVEFOVFMubW9kdWxlTmFtZX0uYWN0aXZlUGFnZWAsIHBhZ2UgKyBcIlwiKTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/flags/pageFlag.ts\n");

/***/ }),

/***/ "./src/hotbar/tokenHotbar.ts":
/*!***********************************!*\
  !*** ./src/hotbar/tokenHotbar.ts ***!
  \***********************************/
/*! exports provided: TokenHotbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TokenHotbar\", function() { return TokenHotbar; });\nclass TokenHotbar {\n    constructor(hotbarFlag, user, notifier, currentPage, hotbarPage, flagKeyStrategy) {\n        this.hotbarFlag = hotbarFlag;\n        this.user = user;\n        this.notifier = notifier;\n        this.currentPage = currentPage;\n        this.hotbarPage = hotbarPage;\n        this.flagKeyStrategy = flagKeyStrategy;\n    }\n    save(token, macrosToSave, canSave) {\n        if (this.currentPage != this.hotbarPage)\n            return false;\n        const slots = this.getSlots();\n        macrosToSave = macrosToSave.filter(m => m.macro && slots.includes(m.slot));\n        const flagKey = this.flagKeyStrategy.get(token.id);\n        let tokenMacros = this.hotbarFlag.get(token.id)[flagKey] || [];\n        if (!this.hasChanges(macrosToSave, tokenMacros))\n            return false;\n        if (!canSave) {\n            this.notifier.warn(\"The token hotbar is locked for players. Any macros placed on this page will be replaced.\");\n            return false;\n        }\n        let tokenBars = this.hotbarFlag.get(token.id);\n        tokenBars[flagKey] = macrosToSave\n            .map(item => {\n            return {\n                slot: item.slot,\n                id: item.macro.id\n            };\n        });\n        console.debug(\"[Token Hotbar]\", \"Saving\", flagKey, tokenBars);\n        this.hotbarFlag.set(token.id, tokenBars);\n        return true;\n    }\n    load(token, userHotbar, gameMacros) {\n        this.userHotbar = userHotbar;\n        const tokenHotbars = this.hotbarFlag.get(token.id);\n        const flagKey = this.flagKeyStrategy.get(token.id);\n        const tokenHotbar = tokenHotbars[flagKey] || [];\n        if (tokenHotbar.length === 0)\n            return Promise.resolve(false);\n        console.debug(\"[Token Hotbar]\", \"Loading\", flagKey, tokenHotbar);\n        let hasValidMacros = false;\n        for (let slot of this.getSlots()) {\n            let slotMacro = tokenHotbar.find(m => m.slot == slot);\n            const tokenHotbarSlotIsEmpty = !slotMacro;\n            if (tokenHotbarSlotIsEmpty) {\n                this.unset(slot);\n            }\n            else {\n                let tokenMacro = gameMacros.find(m => m.id === slotMacro.id);\n                if (tokenMacro) {\n                    this.userHotbar[slot] = tokenMacro.id;\n                    hasValidMacros = true;\n                }\n                else {\n                    this.unset(slot);\n                }\n            }\n        }\n        return this.user.update({ hotbar: this.userHotbar })\n            .then(() => hasValidMacros);\n    }\n    remove(tokenId) {\n        const flagKey = this.flagKeyStrategy.get(tokenId);\n        const flags = this.hotbarFlag.get(tokenId);\n        delete flags[flagKey];\n        this.hotbarFlag.set(tokenId, flags);\n    }\n    getSlots() {\n        function range(size, startAt = 0) {\n            return [...Array(size).keys()].map(i => i + startAt);\n        }\n        return range(10, (this.hotbarPage - 1) * 10 + 1);\n    }\n    unset(slot) {\n        delete this.userHotbar[slot];\n        this.userHotbar[`-=${slot}`] = null;\n    }\n    hasChanges(barMacros, tokenMacros) {\n        if (this.currentPage != this.hotbarPage)\n            return false;\n        if (barMacros.length != tokenMacros.length)\n            return true;\n        for (let i = 0; i < barMacros.length; i++) {\n            if (barMacros[i].macro._id != tokenMacros[i].id)\n                return true;\n        }\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG90YmFyL3Rva2VuSG90YmFyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2hvdGJhci90b2tlbkhvdGJhci50cz9hYzk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhvdGJhckZsYWdzLCB9IGZyb20gXCIuLi9mbGFncy9ob3RiYXJGbGFnc1wiO1xuaW1wb3J0IHsgTm90aWZpZXIsIElkZW50aWZpYWJsZSwgTWFjcm8sIFVzZXIgfSBmcm9tIFwiLi4vZm91bmRyeVwiO1xuaW1wb3J0IHsgRmxhZ0tleVN0cmF0ZWd5IH0gZnJvbSBcIi4uL2ZsYWdzL2ZsYWdLZXlTdHJhdGVnaWVzXCI7XG5cbmV4cG9ydCBjbGFzcyBUb2tlbkhvdGJhciB7IFxuICAgIHByaXZhdGUgdXNlckhvdGJhcjogeyBbc2xvdDogc3RyaW5nIF06IHN0cmluZyB8IG51bGwgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgaG90YmFyRmxhZzogSG90YmFyRmxhZ3MsXG4gICAgICAgIHByaXZhdGUgdXNlcjogVXNlcixcbiAgICAgICAgcHJpdmF0ZSBub3RpZmllcjogTm90aWZpZXIsXG4gICAgICAgIHByaXZhdGUgY3VycmVudFBhZ2U6IG51bWJlcixcbiAgICAgICAgcHJpdmF0ZSBob3RiYXJQYWdlOiBudW1iZXIsXG4gICAgICAgIHByaXZhdGUgZmxhZ0tleVN0cmF0ZWd5OiBGbGFnS2V5U3RyYXRlZ3kpIHsgfVxuXG4gICAgcHVibGljIHNhdmUodG9rZW46IElkZW50aWZpYWJsZSwgbWFjcm9zVG9TYXZlOiBNYWNyb1tdLCBjYW5TYXZlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlICE9IHRoaXMuaG90YmFyUGFnZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHNsb3RzID0gdGhpcy5nZXRTbG90cygpO1xuICAgICAgICBtYWNyb3NUb1NhdmUgPSBtYWNyb3NUb1NhdmUuZmlsdGVyKG0gPT4gbS5tYWNybyAmJiBzbG90cy5pbmNsdWRlcyhtLnNsb3QpKTtcbiAgICAgICAgY29uc3QgZmxhZ0tleSA9IHRoaXMuZmxhZ0tleVN0cmF0ZWd5LmdldCh0b2tlbi5pZCk7XG4gICAgICAgIGxldCB0b2tlbk1hY3JvcyA9IHRoaXMuaG90YmFyRmxhZy5nZXQodG9rZW4uaWQpW2ZsYWdLZXldIHx8IFtdO1xuXG4gICAgICAgIC8vIEZJWE1FOiB0aGlzIHNlZW1zIHZlcnkgaW5lZmZpY2llbnRcbiAgICAgICAgaWYgKCF0aGlzLmhhc0NoYW5nZXMobWFjcm9zVG9TYXZlLCB0b2tlbk1hY3JvcykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjYW5TYXZlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWVyLndhcm4oXCJUaGUgdG9rZW4gaG90YmFyIGlzIGxvY2tlZCBmb3IgcGxheWVycy4gQW55IG1hY3JvcyBwbGFjZWQgb24gdGhpcyBwYWdlIHdpbGwgYmUgcmVwbGFjZWQuXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG9rZW5CYXJzID0gdGhpcy5ob3RiYXJGbGFnLmdldCh0b2tlbi5pZCk7XG5cbiAgICAgICAgdG9rZW5CYXJzW2ZsYWdLZXldID0gbWFjcm9zVG9TYXZlXG4gICAgICAgICAgICAubWFwKGl0ZW0gPT4geyBcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzbG90OiBpdGVtLnNsb3QsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLm1hY3JvLmlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIltUb2tlbiBIb3RiYXJdXCIsIFwiU2F2aW5nXCIsIGZsYWdLZXksIHRva2VuQmFycyk7XG5cbiAgICAgICAgdGhpcy5ob3RiYXJGbGFnLnNldCh0b2tlbi5pZCwgdG9rZW5CYXJzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSB0b2tlbiBoYXMgbWFjcm9zIG9uIHRoZSB0b2tlbiBob3RiYXJcbiAgICAvLyAgICAgICAgIG90aGVyd2lzZSBmYWxzZVxuICAgIHB1YmxpYyBsb2FkKHRva2VuOiBUb2tlbiwgdXNlckhvdGJhcjogeyBbc2xvdDogbnVtYmVyXTogc3RyaW5nIH0sIGdhbWVNYWNyb3M6IElkZW50aWZpYWJsZVtdKSB7XG4gICAgICAgIHRoaXMudXNlckhvdGJhciA9IHVzZXJIb3RiYXI7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0b2tlbkhvdGJhcnMgPSB0aGlzLmhvdGJhckZsYWcuZ2V0KHRva2VuLmlkKTtcbiAgICAgICAgY29uc3QgZmxhZ0tleSA9IHRoaXMuZmxhZ0tleVN0cmF0ZWd5LmdldCh0b2tlbi5pZCk7XG4gICAgICAgIGNvbnN0IHRva2VuSG90YmFyID0gdG9rZW5Ib3RiYXJzW2ZsYWdLZXldIHx8IFtdO1xuXG4gICAgICAgIGlmICh0b2tlbkhvdGJhci5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTsgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIltUb2tlbiBIb3RiYXJdXCIsIFwiTG9hZGluZ1wiLCBmbGFnS2V5LCB0b2tlbkhvdGJhcik7XG4gICAgICAgIFxuICAgICAgICBsZXQgaGFzVmFsaWRNYWNyb3MgPSBmYWxzZTtcbiAgICAgICAgZm9yKGxldCBzbG90IG9mIHRoaXMuZ2V0U2xvdHMoKSkge1xuICAgICAgICAgICAgbGV0IHNsb3RNYWNybyA9IHRva2VuSG90YmFyLmZpbmQobSA9PiBtLnNsb3QgPT0gc2xvdCk7XG4gICAgICAgICAgICBjb25zdCB0b2tlbkhvdGJhclNsb3RJc0VtcHR5ID0gIXNsb3RNYWNybztcbiAgICAgICAgICAgIGlmICh0b2tlbkhvdGJhclNsb3RJc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnNldChzbG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0b2tlbk1hY3JvID0gZ2FtZU1hY3Jvcy5maW5kKG0gPT4gbS5pZCA9PT0gc2xvdE1hY3JvIS5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuTWFjcm8pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VySG90YmFyW3Nsb3RdID0gdG9rZW5NYWNyby5pZDtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsaWRNYWNyb3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnNldChzbG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudXNlci51cGRhdGUoeyBob3RiYXI6IHRoaXMudXNlckhvdGJhciB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gaGFzVmFsaWRNYWNyb3MpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmUodG9rZW5JZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGZsYWdLZXkgPSB0aGlzLmZsYWdLZXlTdHJhdGVneS5nZXQodG9rZW5JZCk7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gdGhpcy5ob3RiYXJGbGFnLmdldCh0b2tlbklkKTtcbiAgICAgICAgZGVsZXRlIGZsYWdzW2ZsYWdLZXldO1xuICAgICAgICB0aGlzLmhvdGJhckZsYWcuc2V0KHRva2VuSWQsIGZsYWdzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNsb3RzKCkge1xuICAgICAgICBmdW5jdGlvbiByYW5nZShzaXplOiBudW1iZXIsIHN0YXJ0QXQgPSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLkFycmF5KHNpemUpLmtleXMoKV0ubWFwKGkgPT4gaSArIHN0YXJ0QXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlKDEwLCAodGhpcy5ob3RiYXJQYWdlIC0gMSkgKiAxMCArIDEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdW5zZXQoc2xvdDogbnVtYmVyKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnVzZXJIb3RiYXJbc2xvdF07XG4gICAgICAgIHRoaXMudXNlckhvdGJhcltgLT0ke3Nsb3R9YF0gPSBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFzQ2hhbmdlcyhiYXJNYWNyb3MsIHRva2VuTWFjcm9zKSB7XG4gICAgICAgIC8vIGNhbnQgbWFrZSBjaGFuZ2VzIGlmIHlvdSBhcmUgbm90IG9uIHRoZSBwYWdlXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlICE9IHRoaXMuaG90YmFyUGFnZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYmFyTWFjcm9zLmxlbmd0aCAhPSB0b2tlbk1hY3Jvcy5sZW5ndGgpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBiYXJNYWNyb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChiYXJNYWNyb3NbaV0ubWFjcm8uX2lkICE9IHRva2VuTWFjcm9zW2ldLmlkKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0iXSwibWFwcGluZ3MiOiJBQUlBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/hotbar/tokenHotbar.ts\n");

/***/ }),

/***/ "./src/hotbar/userHotbar.ts":
/*!**********************************!*\
  !*** ./src/hotbar/userHotbar.ts ***!
  \**********************************/
/*! exports provided: UserHotbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserHotbar\", function() { return UserHotbar; });\nclass UserHotbar {\n    constructor(settings, hotbar, pageFlag) {\n        this.settings = settings;\n        this.hotbar = hotbar;\n        this.pageFlag = pageFlag;\n    }\n    goToPage(hasTokenSelected) {\n        if (hasTokenSelected) {\n            this.goToTokenHotbar();\n        }\n        else {\n            this.goToLastActivePage();\n        }\n    }\n    goToTokenHotbar() {\n        if (this.hotbar.page != this.settings.hotbarPage)\n            this.pageFlag.set(this.hotbar.page);\n        this.render(this.settings.hotbarPage);\n    }\n    goToLastActivePage() {\n        if (this.hotbar.page != this.settings.hotbarPage)\n            return;\n        this.render(this.pageFlag.get());\n    }\n    render(page) {\n        this.hotbar.page = page;\n        setTimeout(() => this.hotbar.render(true), 50);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG90YmFyL3VzZXJIb3RiYXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaG90YmFyL3VzZXJIb3RiYXIudHM/YzFkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCB7IFBhZ2VGbGFnIH0gZnJvbSAnLi4vZmxhZ3MvcGFnZUZsYWcnO1xuXG5pbnRlcmZhY2UgRm91bmRyeUhvdGJhciB7XG4gICAgcGFnZTogbnVtYmVyO1xuICAgIHJlbmRlcjogKGZvcmNlPzogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFVzZXJIb3RiYXIge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc2V0dGluZ3M6IFNldHRpbmdzLCBwcml2YXRlIGhvdGJhcjogRm91bmRyeUhvdGJhciwgcHJpdmF0ZSBwYWdlRmxhZzogUGFnZUZsYWcpIHsgfVxuXG4gICAgcHVibGljIGdvVG9QYWdlKGhhc1Rva2VuU2VsZWN0ZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKGhhc1Rva2VuU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ29Ub1Rva2VuSG90YmFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdvVG9MYXN0QWN0aXZlUGFnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdvVG9Ub2tlbkhvdGJhcigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG90YmFyLnBhZ2UgIT0gdGhpcy5zZXR0aW5ncy5ob3RiYXJQYWdlKVxuICAgICAgICAgICAgdGhpcy5wYWdlRmxhZy5zZXQodGhpcy5ob3RiYXIucGFnZSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5zZXR0aW5ncy5ob3RiYXJQYWdlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ29Ub0xhc3RBY3RpdmVQYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5ob3RiYXIucGFnZSAhPSB0aGlzLnNldHRpbmdzLmhvdGJhclBhZ2UpXG4gICAgICAgICAgICByZXR1cm47IC8vIHVzZXIgYWxyZWFkeSBtb3ZlZCBhd2F5IGZyb20gdGhlIHRva2VuIGhvdGJhci5cblxuICAgICAgICB0aGlzLnJlbmRlcih0aGlzLnBhZ2VGbGFnLmdldCgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlcihwYWdlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5ob3RiYXIucGFnZSA9IHBhZ2U7XG4gICAgICAgIC8vIEZJWE1FOiBSZW5kZXIgZG9lcyBub3QgYWx3YXlzIHdvcmsgd2l0aG91dCB0aGUgdGltZW91dC5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmhvdGJhci5yZW5kZXIodHJ1ZSksIDUwKTtcbiAgICAgICAgLy8gdGhpcy5ob3RiYXIucmVuZGVyKHRydWUpO1xuICAgIH1cblxufSJdLCJtYXBwaW5ncyI6IkFBUUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hotbar/userHotbar.ts\n");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./settings */ \"./src/settings.ts\");\n/* harmony import */ var _hotbar_tokenHotbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hotbar/tokenHotbar */ \"./src/hotbar/tokenHotbar.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n/* harmony import */ var _flags_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flags/factory */ \"./src/flags/factory.ts\");\n/* harmony import */ var _hotbar_userHotbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hotbar/userHotbar */ \"./src/hotbar/userHotbar.ts\");\n/* harmony import */ var _flags_pageFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./flags/pageFlag */ \"./src/flags/pageFlag.ts\");\n\n\n\n\n\n\nfunction migrateFlag() {\n    let oldData = game.user.getFlag(\"world\", \"token-hotbar\");\n    let newData = game.user.getFlag(\"world\", _constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName);\n    if (!oldData || newData)\n        return;\n    console.info(\"Migrating Token Hotbar...\");\n    game.user.setFlag(\"world\", _constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName, oldData);\n    game.user.unsetFlag(\"world\", \"token-hotbar\");\n}\nfunction createTokenHotbar() {\n    const settings = new _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"]().load(game.settings);\n    const hotbarFlags = new _flags_factory__WEBPACK_IMPORTED_MODULE_3__[\"HotbarFlagsFactory\"](settings);\n    const keyStrategy = new _flags_factory__WEBPACK_IMPORTED_MODULE_3__[\"FlagKeyFactory\"](settings);\n    return new _hotbar_tokenHotbar__WEBPACK_IMPORTED_MODULE_1__[\"TokenHotbar\"](hotbarFlags.create(), game.user, ui.notifications, ui.hotbar.page, settings.hotbarPage, keyStrategy.create());\n}\nHooks.on(\"init\", () => {\n    game.settings.register(_constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName, _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"].keys.hotbarPage, {\n        name: \"Page\",\n        hint: \"The hotbar page that will be replaced with the token hotbar. Changing this will wipe existing token bars!\",\n        scope: \"world\",\n        config: true,\n        default: 5,\n        type: Number\n    });\n    game.settings.register(_constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName, _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"].keys.linkToLinkedActor, {\n        name: \"Link to linked actor\",\n        hint: \"Link the token hotbar to the actor if the token is linked.\",\n        scope: \"world\",\n        config: true,\n        default: true,\n        type: Boolean\n    });\n    game.settings.register(_constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName, _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"].keys.alwaysLinkToActor, {\n        name: \"Always link to actor\",\n        hint: \"Link the token hotbar to the actor even if the token is unlinked.\",\n        scope: \"world\",\n        config: true,\n        default: false,\n        type: Boolean\n    });\n    game.settings.register(_constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName, _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"].keys.shareHotbar, {\n        name: \"Share the hotbar with other players\",\n        hint: \"When set every token will have a single hotbar shared by all players.\",\n        scope: \"world\",\n        config: true,\n        default: false,\n        type: Boolean\n    });\n    game.settings.register(_constants__WEBPACK_IMPORTED_MODULE_2__[\"CONSTANTS\"].moduleName, _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"].keys.lockHotbar, {\n        name: \"Lock shared hotbar\",\n        hint: \"When set, only a GM can update the token hotbar. Only applies to shared hotbars.\",\n        scope: \"world\",\n        config: true,\n        default: false,\n        type: Boolean\n    });\n    console.log(\"initialized Token Hotbar\");\n    setTimeout(migrateFlag, 200);\n});\nHooks.on(\"renderHotbar\", (data) => {\n    const settings = new _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"]().load(game.settings);\n    const macros = ui.hotbar._getMacrosByPage(settings.hotbarPage);\n    const token = canvas.tokens.controlled[0];\n    if (token)\n        createTokenHotbar().save(token, macros, !settings.lockHotbar || game.user.isGM);\n    return true;\n});\nHooks.on(\"controlToken\", () => {\n    const token = canvas.tokens.controlled[0];\n    const uiHotbar = new _hotbar_userHotbar__WEBPACK_IMPORTED_MODULE_4__[\"UserHotbar\"](new _settings__WEBPACK_IMPORTED_MODULE_0__[\"Settings\"]().load(game.settings), ui.hotbar, new _flags_pageFlag__WEBPACK_IMPORTED_MODULE_5__[\"PageFlag\"]());\n    if (token) {\n        createTokenHotbar()\n            .load(token, duplicate(game.user.data.hotbar), game.macros.entities)\n            .then(isLoaded => {\n            uiHotbar.goToPage(isLoaded);\n        });\n    }\n    else {\n        uiHotbar.goToPage(false);\n    }\n    return true;\n});\nHooks.on(\"preDeleteToken\", (_, token) => {\n    createTokenHotbar().remove(token._id);\n    return true;\n});\nHooks.on(\"preDeleteActor\", (actor) => {\n    createTokenHotbar().remove(actor.data._id);\n    return true;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYWluLnRzP2NkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJztcbmltcG9ydCB7IFRva2VuSG90YmFyIH0gZnJvbSAnLi9ob3RiYXIvdG9rZW5Ib3RiYXInO1xuaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgSG90YmFyRmxhZ3NGYWN0b3J5LCBGbGFnS2V5RmFjdG9yeSB9IGZyb20gJy4vZmxhZ3MvZmFjdG9yeSc7XG5pbXBvcnQgeyBVc2VySG90YmFyIH0gZnJvbSAnLi9ob3RiYXIvdXNlckhvdGJhcic7XG5pbXBvcnQgeyBQYWdlRmxhZyB9IGZyb20gJy4vZmxhZ3MvcGFnZUZsYWcnO1xuXG5mdW5jdGlvbiBtaWdyYXRlRmxhZygpIHtcbiAgICBsZXQgb2xkRGF0YSA9IGdhbWUudXNlci5nZXRGbGFnKFwid29ybGRcIiwgXCJ0b2tlbi1ob3RiYXJcIik7XG4gICAgbGV0IG5ld0RhdGEgPSBnYW1lLnVzZXIuZ2V0RmxhZyhcIndvcmxkXCIsIENPTlNUQU5UUy5tb2R1bGVOYW1lKTtcbiAgICBpZiAoIW9sZERhdGEgfHwgbmV3RGF0YSkgcmV0dXJuO1xuXG4gICAgY29uc29sZS5pbmZvKFwiTWlncmF0aW5nIFRva2VuIEhvdGJhci4uLlwiKTtcblxuICAgIGdhbWUudXNlci5zZXRGbGFnKFwid29ybGRcIiwgQ09OU1RBTlRTLm1vZHVsZU5hbWUsIG9sZERhdGEpO1xuICAgIGdhbWUudXNlci51bnNldEZsYWcoXCJ3b3JsZFwiLCBcInRva2VuLWhvdGJhclwiKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVG9rZW5Ib3RiYXIoKSB7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKS5sb2FkKGdhbWUuc2V0dGluZ3MpO1xuICAgIGNvbnN0IGhvdGJhckZsYWdzID0gbmV3IEhvdGJhckZsYWdzRmFjdG9yeShzZXR0aW5ncyk7XG4gICAgY29uc3Qga2V5U3RyYXRlZ3kgPSBuZXcgRmxhZ0tleUZhY3Rvcnkoc2V0dGluZ3MpO1xuICAgIHJldHVybiBuZXcgVG9rZW5Ib3RiYXIoXG4gICAgICAgIGhvdGJhckZsYWdzLmNyZWF0ZSgpLFxuICAgICAgICBnYW1lLnVzZXIsXG4gICAgICAgIHVpLm5vdGlmaWNhdGlvbnMsXG4gICAgICAgICg8YW55PnVpKS5ob3RiYXIucGFnZSxcbiAgICAgICAgc2V0dGluZ3MuaG90YmFyUGFnZSxcbiAgICAgICAga2V5U3RyYXRlZ3kuY3JlYXRlKCkpO1xufVxuXG5Ib29rcy5vbihcImluaXRcIiwgKCkgPT4ge1xuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoQ09OU1RBTlRTLm1vZHVsZU5hbWUsIFNldHRpbmdzLmtleXMuaG90YmFyUGFnZSwge1xuICAgICAgICBuYW1lOiBcIlBhZ2VcIixcbiAgICAgICAgaGludDogXCJUaGUgaG90YmFyIHBhZ2UgdGhhdCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRva2VuIGhvdGJhci4gQ2hhbmdpbmcgdGhpcyB3aWxsIHdpcGUgZXhpc3RpbmcgdG9rZW4gYmFycyFcIixcbiAgICAgICAgc2NvcGU6IFwid29ybGRcIixcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiA1LFxuICAgICAgICB0eXBlOiBOdW1iZXJcbiAgICB9KTtcblxuICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoQ09OU1RBTlRTLm1vZHVsZU5hbWUsIFNldHRpbmdzLmtleXMubGlua1RvTGlua2VkQWN0b3IsIHtcbiAgICAgICAgbmFtZTogXCJMaW5rIHRvIGxpbmtlZCBhY3RvclwiLFxuICAgICAgICBoaW50OiBcIkxpbmsgdGhlIHRva2VuIGhvdGJhciB0byB0aGUgYWN0b3IgaWYgdGhlIHRva2VuIGlzIGxpbmtlZC5cIixcbiAgICAgICAgc2NvcGU6IFwid29ybGRcIixcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAgfSk7XG5cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKENPTlNUQU5UUy5tb2R1bGVOYW1lLCBTZXR0aW5ncy5rZXlzLmFsd2F5c0xpbmtUb0FjdG9yLCB7XG4gICAgICAgIG5hbWU6IFwiQWx3YXlzIGxpbmsgdG8gYWN0b3JcIixcbiAgICAgICAgaGludDogXCJMaW5rIHRoZSB0b2tlbiBob3RiYXIgdG8gdGhlIGFjdG9yIGV2ZW4gaWYgdGhlIHRva2VuIGlzIHVubGlua2VkLlwiLFxuICAgICAgICBzY29wZTogXCJ3b3JsZFwiLFxuICAgICAgICBjb25maWc6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAgfSk7XG5cbiAgICBnYW1lLnNldHRpbmdzLnJlZ2lzdGVyKENPTlNUQU5UUy5tb2R1bGVOYW1lLCBTZXR0aW5ncy5rZXlzLnNoYXJlSG90YmFyLCB7XG4gICAgICAgIG5hbWU6IFwiU2hhcmUgdGhlIGhvdGJhciB3aXRoIG90aGVyIHBsYXllcnNcIixcbiAgICAgICAgaGludDogXCJXaGVuIHNldCBldmVyeSB0b2tlbiB3aWxsIGhhdmUgYSBzaW5nbGUgaG90YmFyIHNoYXJlZCBieSBhbGwgcGxheWVycy5cIixcbiAgICAgICAgc2NvcGU6IFwid29ybGRcIixcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0pO1xuXG4gICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihDT05TVEFOVFMubW9kdWxlTmFtZSwgU2V0dGluZ3Mua2V5cy5sb2NrSG90YmFyLCB7XG4gICAgICAgIG5hbWU6IFwiTG9jayBzaGFyZWQgaG90YmFyXCIsXG4gICAgICAgIGhpbnQ6IFwiV2hlbiBzZXQsIG9ubHkgYSBHTSBjYW4gdXBkYXRlIHRoZSB0b2tlbiBob3RiYXIuIE9ubHkgYXBwbGllcyB0byBzaGFyZWQgaG90YmFycy5cIixcbiAgICAgICAgc2NvcGU6IFwid29ybGRcIixcbiAgICAgICAgY29uZmlnOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coXCJpbml0aWFsaXplZCBUb2tlbiBIb3RiYXJcIik7XG4gICAgc2V0VGltZW91dChtaWdyYXRlRmxhZywgMjAwKTtcbn0pO1xuXG5Ib29rcy5vbihcInJlbmRlckhvdGJhclwiLCAoZGF0YTogYW55KSA9PiB7XG4gICAgLy8gY29uc3QgbWFjcm9zID0gZGF0YS5tYWNyb3M7XG4gICAgLy8gRklYTUU6IGR1ZSB0byBhIHJhY2UgY29uZGl0aW9uLCBzb21ldGltZXMgdGhlIHdyb25nIG1hY3JvcyBhcmUgcGFzc2VkLlxuICAgIC8vICAgICAgICBXZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIHRoZSBvbmVzIG9uIHRoZSB0b2tlbiBob3RiYXIuXG4gICAgY29uc3Qgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKS5sb2FkKGdhbWUuc2V0dGluZ3MpO1xuICAgIGNvbnN0IG1hY3JvcyA9ICg8YW55PnVpKS5ob3RiYXIuX2dldE1hY3Jvc0J5UGFnZShzZXR0aW5ncy5ob3RiYXJQYWdlKTtcblxuICAgIGNvbnN0IHRva2VuID0gY2FudmFzLnRva2Vucy5jb250cm9sbGVkWzBdO1xuICAgIGlmICh0b2tlbilcbiAgICAgICAgY3JlYXRlVG9rZW5Ib3RiYXIoKS5zYXZlKHRva2VuLCBtYWNyb3MsICFzZXR0aW5ncy5sb2NrSG90YmFyIHx8IGdhbWUudXNlci5pc0dNKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuXG5Ib29rcy5vbihcImNvbnRyb2xUb2tlblwiLCAoKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBjYW52YXMudG9rZW5zLmNvbnRyb2xsZWRbMF07XG5cbiAgICBjb25zdCB1aUhvdGJhciA9IG5ldyBVc2VySG90YmFyKG5ldyBTZXR0aW5ncygpLmxvYWQoZ2FtZS5zZXR0aW5ncyksICg8YW55PnVpKS5ob3RiYXIsIG5ldyBQYWdlRmxhZygpKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgY3JlYXRlVG9rZW5Ib3RiYXIoKVxuICAgICAgICAgICAgLy8gaG90YmFyIGRvZXMgbm90IHlldCBleGlzdCBvbiBnYW1lLnVzZXIuZGF0YSBhbmQgdWkgZGVmaW5pdGlvbnMsIGhlbmNlIHRoZSBjYXN0cyB0byBhbnkuXG4gICAgICAgICAgICAubG9hZCh0b2tlbiwgZHVwbGljYXRlKCg8YW55PmdhbWUudXNlci5kYXRhKS5ob3RiYXIpLCBnYW1lLm1hY3Jvcy5lbnRpdGllcylcbiAgICAgICAgICAgIC50aGVuKGlzTG9hZGVkID0+IHtcbiAgICAgICAgICAgICAgICB1aUhvdGJhci5nb1RvUGFnZShpc0xvYWRlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHVpSG90YmFyLmdvVG9QYWdlKGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59KTtcblxuSG9va3Mub24oXCJwcmVEZWxldGVUb2tlblwiLCAoXzogU2NlbmUsIHRva2VuOiBhbnkpID0+IHtcbiAgICBjcmVhdGVUb2tlbkhvdGJhcigpLnJlbW92ZSh0b2tlbi5faWQpO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG5cbkhvb2tzLm9uKFwicHJlRGVsZXRlQWN0b3JcIiwgKGFjdG9yOiBhbnkpID0+IHtcbiAgICBjcmVhdGVUb2tlbkhvdGJhcigpLnJlbW92ZShhY3Rvci5kYXRhLl9pZCk7XG4gICAgcmV0dXJuIHRydWU7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/main.ts\n");

/***/ }),

/***/ "./src/settings.ts":
/*!*************************!*\
  !*** ./src/settings.ts ***!
  \*************************/
/*! exports provided: Settings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Settings\", function() { return Settings; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./src/constants.ts\");\n\nclass Settings {\n    constructor() { }\n    load(s) {\n        this.hotbarPage = this.getSetting(s, Settings.keys.hotbarPage);\n        this.alwaysLinkToActor = this.getSetting(s, Settings.keys.alwaysLinkToActor);\n        this.linkToLinkedActor = this.getSetting(s, Settings.keys.linkToLinkedActor) || this.alwaysLinkToActor;\n        this.shareHotbar = this.getSetting(s, Settings.keys.shareHotbar);\n        this.lockHotbar = this.getSetting(s, Settings.keys.lockHotbar) && this.shareHotbar;\n        return this;\n    }\n    getSetting(settings, key) {\n        return settings.get(_constants__WEBPACK_IMPORTED_MODULE_0__[\"CONSTANTS\"].moduleName, key);\n    }\n}\nSettings.keys = {\n    alwaysLinkToActor: 'linkToActor',\n    linkToLinkedActor: 'link',\n    hotbarPage: 'page',\n    shareHotbar: 'share',\n    lockHotbar: 'lock'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2V0dGluZ3MudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3MudHM/OGI5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDT05TVEFOVFMgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDbGllbnRTZXR0aW5nc1JlYWRlciB7XG4gICAgZ2V0KHNjb3BlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xuICAgIGFsd2F5c0xpbmtUb0FjdG9yOiBib29sZWFuO1xuICAgIGxpbmtUb0xpbmtlZEFjdG9yOiBib29sZWFuO1xuICAgIGhvdGJhclBhZ2U6IG51bWJlcjtcbiAgICBzaGFyZUhvdGJhcjogYm9vbGVhbjtcbiAgICBsb2NrSG90YmFyOiBib29sZWFuO1xuXG4gICAgc3RhdGljIGtleXMgPSB7XG4gICAgICAgIGFsd2F5c0xpbmtUb0FjdG9yOiAnbGlua1RvQWN0b3InLFxuICAgICAgICBsaW5rVG9MaW5rZWRBY3RvcjogJ2xpbmsnLFxuICAgICAgICBob3RiYXJQYWdlOiAncGFnZScsXG4gICAgICAgIHNoYXJlSG90YmFyOiAnc2hhcmUnLFxuICAgICAgICBsb2NrSG90YmFyOiAnbG9jaydcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgcHVibGljIGxvYWQoczogQ2xpZW50U2V0dGluZ3NSZWFkZXIpIHtcbiAgICAgICAgdGhpcy5ob3RiYXJQYWdlID0gdGhpcy5nZXRTZXR0aW5nKHMsIFNldHRpbmdzLmtleXMuaG90YmFyUGFnZSk7XG5cbiAgICAgICAgdGhpcy5hbHdheXNMaW5rVG9BY3RvciA9IHRoaXMuZ2V0U2V0dGluZyhzLCBTZXR0aW5ncy5rZXlzLmFsd2F5c0xpbmtUb0FjdG9yKTtcbiAgICAgICAgdGhpcy5saW5rVG9MaW5rZWRBY3RvciA9IHRoaXMuZ2V0U2V0dGluZyhzLCBTZXR0aW5ncy5rZXlzLmxpbmtUb0xpbmtlZEFjdG9yKSB8fCB0aGlzLmFsd2F5c0xpbmtUb0FjdG9yO1xuXG4gICAgICAgIHRoaXMuc2hhcmVIb3RiYXIgPSB0aGlzLmdldFNldHRpbmcocywgU2V0dGluZ3Mua2V5cy5zaGFyZUhvdGJhcik7XG4gICAgICAgIHRoaXMubG9ja0hvdGJhciA9IHRoaXMuZ2V0U2V0dGluZyhzLCBTZXR0aW5ncy5rZXlzLmxvY2tIb3RiYXIpICYmIHRoaXMuc2hhcmVIb3RiYXI7XG4gICAgXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0U2V0dGluZyhzZXR0aW5nczogQ2xpZW50U2V0dGluZ3NSZWFkZXIsIGtleTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5nZXQoQ09OU1RBTlRTLm1vZHVsZU5hbWUsIGtleSlcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBZUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQXhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/settings.ts\n");

/***/ })

/******/ });